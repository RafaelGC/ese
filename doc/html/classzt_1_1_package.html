<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.13"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>ZeltaLib: zt::Package Class Reference</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="navtree.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="resize.js"></script>
<script type="text/javascript" src="navtreedata.js"></script>
<script type="text/javascript" src="navtree.js"></script>
<script type="text/javascript">
  $(document).ready(initResizable);
</script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectalign" style="padding-left: 0.5em;">
   <div id="projectname">ZeltaLib
   </div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.13 -->
<script type="text/javascript">
var searchBox = new SearchBox("searchBox", "search",false,'Search');
</script>
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
$(function() {
  initMenu('',true,false,'search.php','Search');
  $(document).ready(function() { init_search(); });
});
</script>
<div id="main-nav"></div>
</div><!-- top -->
<div id="side-nav" class="ui-resizable side-nav-resizable">
  <div id="nav-tree">
    <div id="nav-tree-contents">
      <div id="nav-sync" class="sync"></div>
    </div>
  </div>
  <div id="splitbar" style="-moz-user-select:none;" 
       class="ui-resizable-handle">
  </div>
</div>
<script type="text/javascript">
$(document).ready(function(){initNavTree('classzt_1_1_package.html','');});
</script>
<div id="doc-content">
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<div class="header">
  <div class="summary">
<a href="#pub-methods">Public Member Functions</a> &#124;
<a href="#pub-static-attribs">Static Public Attributes</a> &#124;
<a href="#pro-attribs">Protected Attributes</a> &#124;
<a href="classzt_1_1_package-members.html">List of all members</a>  </div>
  <div class="headertitle">
<div class="title">zt::Package Class Reference</div>  </div>
</div><!--header-->
<div class="contents">

<p>The <a class="el" href="classzt_1_1_package.html" title="The Package class allows you to store all your assets (images, sounds, fonts) in the same file...">Package</a> class allows you to store all your assets (images, sounds, fonts) in the same file. The class also lets you load those files from the package easily.  
 <a href="classzt_1_1_package.html#details">More...</a></p>

<p><code>#include &lt;<a class="el" href="_package_8hpp_source.html">Package.hpp</a>&gt;</code></p>
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="pub-methods"></a>
Public Member Functions</h2></td></tr>
<tr class="memitem:a985b5fd2f225911709782ec42ea8dc48"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classzt_1_1_package.html#a985b5fd2f225911709782ec42ea8dc48">create</a> (const std::string &amp;file, unsigned int compression=COMPRESSION_NONE)</td></tr>
<tr class="memdesc:a985b5fd2f225911709782ec42ea8dc48"><td class="mdescLeft">&#160;</td><td class="mdescRight">Creates a new empty package.  <a href="#a985b5fd2f225911709782ec42ea8dc48">More...</a><br /></td></tr>
<tr class="separator:a985b5fd2f225911709782ec42ea8dc48"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a30d7195cbd7b4856dda6207fd8ec785b"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classzt_1_1_package.html#a30d7195cbd7b4856dda6207fd8ec785b">open</a> (const std::string &amp;file)</td></tr>
<tr class="memdesc:a30d7195cbd7b4856dda6207fd8ec785b"><td class="mdescLeft">&#160;</td><td class="mdescRight">Opens an existing package.  <a href="#a30d7195cbd7b4856dda6207fd8ec785b">More...</a><br /></td></tr>
<tr class="separator:a30d7195cbd7b4856dda6207fd8ec785b"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a5410213f58e0f08e648d6424474e0a5d"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classzt_1_1_package.html#a5410213f58e0f08e648d6424474e0a5d">addFile</a> (const std::string &amp;input, const std::string &amp;target)</td></tr>
<tr class="memdesc:a5410213f58e0f08e648d6424474e0a5d"><td class="mdescLeft">&#160;</td><td class="mdescRight">Adds a file to the package.  <a href="#a5410213f58e0f08e648d6424474e0a5d">More...</a><br /></td></tr>
<tr class="separator:a5410213f58e0f08e648d6424474e0a5d"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a6f528593a7a56b9d2c7ec6df0a6b2bb2"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classzt_1_1_package.html#a6f528593a7a56b9d2c7ec6df0a6b2bb2">addDirectory</a> (const std::string &amp;directory)</td></tr>
<tr class="memdesc:a6f528593a7a56b9d2c7ec6df0a6b2bb2"><td class="mdescLeft">&#160;</td><td class="mdescRight">Adds the content of a directory to the package.  <a href="#a6f528593a7a56b9d2c7ec6df0a6b2bb2">More...</a><br /></td></tr>
<tr class="separator:a6f528593a7a56b9d2c7ec6df0a6b2bb2"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:af62e37955ffe46a4c37cd76c99405763"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classzt_1_1_package.html#af62e37955ffe46a4c37cd76c99405763">removeFile</a> (const std::string &amp;file)</td></tr>
<tr class="memdesc:af62e37955ffe46a4c37cd76c99405763"><td class="mdescLeft">&#160;</td><td class="mdescRight">Removes a file from the package. This is an expensive task which involves reading the whole package and writing it again without the removed file.  <a href="#af62e37955ffe46a4c37cd76c99405763">More...</a><br /></td></tr>
<tr class="separator:af62e37955ffe46a4c37cd76c99405763"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a9454a5a20192952e1d4d2c0ef9e434f4"><td class="memItemLeft" align="right" valign="top">std::vector&lt; std::string &gt;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classzt_1_1_package.html#a9454a5a20192952e1d4d2c0ef9e434f4">getNames</a> () const</td></tr>
<tr class="separator:a9454a5a20192952e1d4d2c0ef9e434f4"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ab30b4acb16a680075b9d61de978181f4"><td class="memItemLeft" align="right" valign="top">std::vector&lt; uint8_t &gt;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classzt_1_1_package.html#ab30b4acb16a680075b9d61de978181f4">getFileData</a> (const std::string &amp;file)</td></tr>
<tr class="separator:ab30b4acb16a680075b9d61de978181f4"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a5c8234b81f3076072f5284a257bf0b51"><td class="memItemLeft" align="right" valign="top">unsigned long&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classzt_1_1_package.html#a5c8234b81f3076072f5284a257bf0b51">getFileSize</a> (const std::string &amp;file)</td></tr>
<tr class="separator:a5c8234b81f3076072f5284a257bf0b51"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="pub-static-attribs"></a>
Static Public Attributes</h2></td></tr>
<tr class="memitem:affccb63e5c40c8ab8cd8a4bab5db6914"><td class="memItemLeft" align="right" valign="top"><a id="affccb63e5c40c8ab8cd8a4bab5db6914"></a>
static const unsigned int&#160;</td><td class="memItemRight" valign="bottom"><b>COMPRESSION_NONE</b> = 0</td></tr>
<tr class="separator:affccb63e5c40c8ab8cd8a4bab5db6914"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="pro-attribs"></a>
Protected Attributes</h2></td></tr>
<tr class="memitem:a6937a1bdbb54efd3dd0184590f72a038"><td class="memItemLeft" align="right" valign="top"><a id="a6937a1bdbb54efd3dd0184590f72a038"></a>
std::fstream&#160;</td><td class="memItemRight" valign="bottom"><b>file</b></td></tr>
<tr class="separator:a6937a1bdbb54efd3dd0184590f72a038"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a178f1e16598632e9a28a36c244afadc8"><td class="memItemLeft" align="right" valign="top"><a id="a178f1e16598632e9a28a36c244afadc8"></a>
std::string&#160;</td><td class="memItemRight" valign="bottom"><b>packageName</b></td></tr>
<tr class="separator:a178f1e16598632e9a28a36c244afadc8"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aed3f124a5138a835ab59d001fd24b8bf"><td class="memItemLeft" align="right" valign="top"><a id="aed3f124a5138a835ab59d001fd24b8bf"></a>
std::map&lt; std::string, <a class="el" href="classzt_1_1_package_file_info.html">PackageFileInfo</a> &gt;&#160;</td><td class="memItemRight" valign="bottom"><b>fileIndex</b></td></tr>
<tr class="separator:aed3f124a5138a835ab59d001fd24b8bf"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a06cb77eccd578fe53a04d9b8b9b0c002"><td class="memItemLeft" align="right" valign="top"><a id="a06cb77eccd578fe53a04d9b8b9b0c002"></a>
const unsigned int&#160;</td><td class="memItemRight" valign="bottom"><b>NAME_BYTES</b> = 512</td></tr>
<tr class="separator:a06cb77eccd578fe53a04d9b8b9b0c002"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ace3614899778aca2fb25bd0cf1bacb8f"><td class="memItemLeft" align="right" valign="top"><a id="ace3614899778aca2fb25bd0cf1bacb8f"></a>
const unsigned int&#160;</td><td class="memItemRight" valign="bottom"><b>SIZE_BYTES</b> = 8</td></tr>
<tr class="separator:ace3614899778aca2fb25bd0cf1bacb8f"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a02b53b1351ab587787171e9d4a80a424"><td class="memItemLeft" align="right" valign="top"><a id="a02b53b1351ab587787171e9d4a80a424"></a>
const unsigned int&#160;</td><td class="memItemRight" valign="bottom"><b>VERSION</b> = 1</td></tr>
<tr class="separator:a02b53b1351ab587787171e9d4a80a424"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a0a744c3d635b242b2312465822b59dbc"><td class="memItemLeft" align="right" valign="top"><a id="a0a744c3d635b242b2312465822b59dbc"></a>
const char *&#160;</td><td class="memItemRight" valign="bottom"><b>MAGIC_NUMBER</b> = &quot;ZPKG&quot;</td></tr>
<tr class="separator:a0a744c3d635b242b2312465822b59dbc"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<a name="details" id="details"></a><h2 class="groupheader">Detailed Description</h2>
<div class="textblock"><p>The <a class="el" href="classzt_1_1_package.html" title="The Package class allows you to store all your assets (images, sounds, fonts) in the same file...">Package</a> class allows you to store all your assets (images, sounds, fonts) in the same file. The class also lets you load those files from the package easily. </p>
<p>The package use a custom format called ZPKG (ZeltaLib <a class="el" href="classzt_1_1_package.html" title="The Package class allows you to store all your assets (images, sounds, fonts) in the same file...">Package</a>). A ZPKG file has a 12 bytes header. -The first four bytes are the magic number (ZPKG codified in ASCII). -The next four bytes represent the version of the format (1, at the moment). -The last four bytes represent the compression used. At the moment this library does not compress the data (a zero is written).</p>
<p>After the header, we can have zero or more files stored in the package. Each file is composed of a header and the actual data. The header takes 8 bytes to represent the file size and 512 more bytes to represent the file name and path. </p>
</div><h2 class="groupheader">Member Function Documentation</h2>
<a id="a6f528593a7a56b9d2c7ec6df0a6b2bb2"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a6f528593a7a56b9d2c7ec6df0a6b2bb2">&#9670;&nbsp;</a></span>addDirectory()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void zt::Package::addDirectory </td>
          <td>(</td>
          <td class="paramtype">const std::string &amp;&#160;</td>
          <td class="paramname"><em>directory</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Adds the content of a directory to the package. </p>
<dl class="section warning"><dt>Warning</dt><dd>It's just implemented in Linux. </dd></dl>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">file</td><td></td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a id="a5410213f58e0f08e648d6424474e0a5d"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a5410213f58e0f08e648d6424474e0a5d">&#9670;&nbsp;</a></span>addFile()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void zt::Package::addFile </td>
          <td>(</td>
          <td class="paramtype">const std::string &amp;&#160;</td>
          <td class="paramname"><em>input</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const std::string &amp;&#160;</td>
          <td class="paramname"><em>target</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Adds a file to the package. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">input</td><td>Input file. </td></tr>
    <tr><td class="paramname">target</td><td>Path and name of the file inside the package. </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a id="a985b5fd2f225911709782ec42ea8dc48"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a985b5fd2f225911709782ec42ea8dc48">&#9670;&nbsp;</a></span>create()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void zt::Package::create </td>
          <td>(</td>
          <td class="paramtype">const std::string &amp;&#160;</td>
          <td class="paramname"><em>file</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">unsigned int&#160;</td>
          <td class="paramname"><em>compression</em> = <code>COMPRESSION_NONE</code>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Creates a new empty package. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">Name</td><td>of the package. You may consider using the .zpkg extension. </td></tr>
    <tr><td class="paramname">compression</td><td>The compression is not supported at the moment. </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a id="ab30b4acb16a680075b9d61de978181f4"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ab30b4acb16a680075b9d61de978181f4">&#9670;&nbsp;</a></span>getFileData()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">std::vector&lt;uint8_t&gt; zt::Package::getFileData </td>
          <td>(</td>
          <td class="paramtype">const std::string &amp;&#160;</td>
          <td class="paramname"><em>file</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Returns the bytes (uint8_t) of a file. </p><dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">file</td><td>File name. </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>Vector of bytes. </dd></dl>

</div>
</div>
<a id="a5c8234b81f3076072f5284a257bf0b51"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a5c8234b81f3076072f5284a257bf0b51">&#9670;&nbsp;</a></span>getFileSize()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">unsigned long zt::Package::getFileSize </td>
          <td>(</td>
          <td class="paramtype">const std::string &amp;&#160;</td>
          <td class="paramname"><em>file</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Returns the size of a file in bytes. </p><dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">file</td><td></td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd></dd></dl>

</div>
</div>
<a id="a9454a5a20192952e1d4d2c0ef9e434f4"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a9454a5a20192952e1d4d2c0ef9e434f4">&#9670;&nbsp;</a></span>getNames()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">std::vector&lt;std::string&gt; zt::Package::getNames </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td> const</td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Returns all file names in the package. </p><dl class="section return"><dt>Returns</dt><dd></dd></dl>

</div>
</div>
<a id="a30d7195cbd7b4856dda6207fd8ec785b"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a30d7195cbd7b4856dda6207fd8ec785b">&#9670;&nbsp;</a></span>open()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void zt::Package::open </td>
          <td>(</td>
          <td class="paramtype">const std::string &amp;&#160;</td>
          <td class="paramname"><em>file</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Opens an existing package. </p>
<p>When you open a package the whole file is read to build an index. Note that, despite having been read, it has not been loaded on memory. The index will help the class to find the files you request faster. </p><dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">file</td><td></td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a id="af62e37955ffe46a4c37cd76c99405763"></a>
<h2 class="memtitle"><span class="permalink"><a href="#af62e37955ffe46a4c37cd76c99405763">&#9670;&nbsp;</a></span>removeFile()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void zt::Package::removeFile </td>
          <td>(</td>
          <td class="paramtype">const std::string &amp;&#160;</td>
          <td class="paramname"><em>file</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Removes a file from the package. This is an expensive task which involves reading the whole package and writing it again without the removed file. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">file</td><td>Name of the file in the package. </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<hr/>The documentation for this class was generated from the following file:<ul>
<li>include/Zelta/Core/<a class="el" href="_package_8hpp_source.html">Package.hpp</a></li>
</ul>
</div><!-- contents -->
</div><!-- doc-content -->
<!-- start footer part -->
<div id="nav-path" class="navpath"><!-- id is needed for treeview function! -->
  <ul>
    <li class="navelem"><b>zt</b></li><li class="navelem"><a class="el" href="classzt_1_1_package.html">Package</a></li>
    <li class="footer">Generated on Sat May 5 2018 15:08:34 for ZeltaLib by
    <a href="http://www.doxygen.org/index.html">
    <img class="footer" src="doxygen.png" alt="doxygen"/></a> 1.8.13 </li>
  </ul>
</div>
</body>
</html>
